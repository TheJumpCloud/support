version: 2.1

workflows:
  version: 2
  gh-pages-workflow:
    jobs:
      - tag_generation

jobs:
  ignore_gh_pages:
    docker:
      - image: cimg/base:stable
    steps:
      - skip_run
  tag_generation:
    docker:
      - image: circleci/python:3.6.4
    steps:
      - checkout
      - generate_tags

commands:
  skip_run:
    steps:
      - run:
          name: skip run
          command: |
            echo "skipping gh-pages ci run"
  generate_tags:
    steps:
      - run:
          name: run generate tag script
          command: |
            python3 deploy/generate_tags.py